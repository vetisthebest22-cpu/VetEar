<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VetPulse - AI Veterinary Sound Analysis</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', sans-serif; background: #ffffff; min-height: 100vh; position: relative; overflow-x: hidden; }
/* Animated background elements */
.bg-animation { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; opacity: 0.1; }
.floating-icon { position: absolute; animation: float 6s ease-in-out infinite; font-size: 24px; color: #7C3AED; }
.floating-icon:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
.floating-icon:nth-child(2) { top: 20%; right: 15%; animation-delay: 1s; }
.floating-icon:nth-child(3) { top: 60%; left: 5%; animation-delay: 2s; }
.floating-icon:nth-child(4) { bottom: 30%; right: 10%; animation-delay: 3s; }
.floating-icon:nth-child(5) { bottom: 10%; left: 20%; animation-delay: 4s; }
@keyframes float { 0%,100% { transform: translateY(0px) rotate(0deg); } 50% { transform: translateY(-20px) rotate(5deg); } }
/* Header */
.header { background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); padding: 1rem 2rem; box-shadow: 0 4px 20px rgba(124,58,237,0.1); position: relative; z-index: 10; }
.nav-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
.logo { display: flex; align-items: center; gap: 12px; font-size: 1.5rem; font-weight: 700; color: #7C3AED; }
.logo-icon { width: 40px; height: 40px; animation: heartbeat 2s ease-in-out infinite; }
@keyframes heartbeat { 0%,100% { transform: scale(1); } 50% { transform: scale(1.1); } }
.nav-menu { display: flex; gap: 2rem; list-style: none; }
.nav-menu a { text-decoration: none; color: #4B5563; font-weight: 500; transition: color 0.3s ease; }
.nav-menu a:hover { color: #7C3AED; }
/* Main Content */
.main-container { max-width: 1200px; margin: 0 auto; padding: 3rem 2rem; position: relative; z-index: 5; }
.hero-section { text-align: center; margin-bottom: 3rem; }
.hero-title { font-size: 3rem; font-weight: 700; color: #7C3AED; margin-bottom: 1rem; }
.hero-subtitle { font-size: 1.2rem; color: #6B7280; margin-bottom: 2rem; }
.microphone-container { margin: 2rem 0; }
.mic-button { width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #7C3AED, #10B981); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; margin: 0 auto; box-shadow: 0 8px 25px rgba(124,58,237,0.3); transition: all 0.3s ease; animation: pulse 2s ease-in-out infinite; }
.mic-button:hover { transform: scale(1.1); box-shadow: 0 12px 35px rgba(124,58,237,0.4); }
@keyframes pulse { 0%,100% { box-shadow: 0 8px 25px rgba(124,58,237,0.3), 0 0 0 0 rgba(124,58,237,0.4); } 50% { box-shadow: 0 8px 25px rgba(124,58,237,0.3), 0 0 0 20px rgba(124,58,237,0); } }
.analysis-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-top: 3rem; }
.progress-section { display: flex; flex-direction: column; gap: 2rem; }
.progress-item { background: rgba(255,255,255,0.9); padding: 1.5rem; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 1.5rem; transition: all 0.3s ease; }
.progress-item:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(0,0,0,0.15); }
.radial-progress { position: relative; width: 80px; height: 80px; }
.progress-circle { width: 80px; height: 80px; border-radius: 50%; background: conic-gradient(#10B981 0deg, #E5E7EB 0deg); display: flex; align-items: center; justify-content: center; position: relative; animation: breathe 3s ease-in-out infinite; }
@keyframes breathe { 0%,100% { transform: scale(1); } 50% { transform: scale(1.05); } }
.progress-circle::before { content: ''; position: absolute; width: 60px; height: 60px; background: white; border-radius: 50%; }
.progress-text { position: absolute; font-weight: 700; color: #7C3AED; z-index: 1; }
.progress-info h3 { font-size: 1.1rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem; }
.progress-info p { color: #6B7280; font-size: 0.9rem; }
.descriptions-section { display: flex; flex-direction: column; gap: 1.5rem; }
.description-card { background: rgba(255,255,255,0.9); padding: 1.5rem; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); transition: all 0.3s ease; border-left: 4px solid #7C3AED; }
.description-card:hover { transform: translateX(10px); box-shadow: 0 15px 35px rgba(124,58,237,0.2); }
.description-card h3 { color: #7C3AED; font-weight: 600; margin-bottom: 0.5rem; }
.description-card p { color: #6B7280; line-height: 1.6; }
.recommendations { background: linear-gradient(135deg, #7C3AED, #10B981); color: white; padding: 2rem; border-radius: 20px; margin-top: 2rem; text-align: center; box-shadow: 0 15px 35px rgba(124,58,237,0.3); }
.recommendations h3 { font-size: 1.5rem; margin-bottom: 1rem; animation: glow 2s ease-in-out infinite alternate; }
@keyframes glow { from { text-shadow: 0 0 5px rgba(255,255,255,0.5); } to { text-shadow: 0 0 20px rgba(255,255,255,0.8); } }
.sparkle { position: absolute; width: 10px; height: 10px; background: #10B981; border-radius: 50%; animation: sparkle 1.5s ease-in-out infinite; }
@keyframes sparkle { 0%,100% { opacity: 0; transform: scale(0); } 50% { opacity: 1; transform: scale(1); } }
/* Footer */
.footer { background: rgba(255,255,255,0.95); padding: 2rem; text-align: center; position: relative; z-index: 10; margin-top: 3rem; }
.footer-content { max-width: 1200px; margin: 0 auto; }
.paw-animation { position: absolute; bottom: 0; left: 0; width: 100%; height: 20px; overflow: hidden; }
.paw { position: absolute; bottom: 5px; font-size: 16px; color: #7C3AED; animation: march 8s linear infinite; }
.paw:nth-child(1) { animation-delay: 0s; }
.paw:nth-child(2) { animation-delay: 2s; }
.paw:nth-child(3) { animation-delay: 4s; }
.paw:nth-child(4) { animation-delay: 6s; }
@keyframes march { 0% { left: -50px; } 100% { left: 100%; } }
@media (max-width: 768px) {
    .analysis-grid { grid-template-columns: 1fr; gap: 2rem; }
    .hero-title { font-size: 2rem; }
    .nav-menu { display: none; }
}

/* Modal Styles */
#result-modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:9999; }
#result-content { background:white; padding:2rem; border-radius:20px; text-align:center; position:relative; max-width:400px; width:80%; }
#result-content button { position:absolute; top:10px; right:10px; background:#7C3AED; color:white; border:none; font-size:1.2rem; padding:0.3rem 0.6rem; border-radius:50%; cursor:pointer; }
</style>
</head>
<body>
<!-- Animated Background -->
<div class="bg-animation">
    <div class="floating-icon">üêï</div>
    <div class="floating-icon">ü©∫</div>
    <div class="floating-icon">üê±</div>
    <div class="floating-icon">üíì</div>
    <div class="floating-icon">üêæ</div>
</div>

<!-- Header -->
<header class="header">
<nav class="nav-container">
    <div class="logo">
        <svg class="logo-icon" viewBox="0 0 40 40" fill="none">
            <path d="M20 35C20 35 32 25 32 15C32 8.5 26.5 3 20 3S8 8.5 8 15C8 25 20 35 20 35Z" fill="#7C3AED"/>
            <circle cx="20" cy="15" r="5" fill="white"/>
            <path d="M15 15L18 18L25 11" stroke="#7C3AED" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        VetPulse
    </div>
    <ul class="nav-menu">
        <li><a href="#home">Home</a></li>
        <li><a href="#analysis">Analysis</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact</a></li>
    </ul>
</nav>
</header>

<!-- Main Content -->
<main class="main-container">
<section class="hero-section">
    <h1 class="hero-title">VetPulse AI Analysis</h1>
    <p class="hero-subtitle">Advanced veterinary sound analysis powered by artificial intelligence</p>
    
    <div class="microphone-container">
        <button class="mic-button" onclick="startAudio()" aria-label="Start audio analysis">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
            </svg>
        </button>
    </div>
</section>

<div class="analysis-grid">
<!-- Progress Bars Section -->
<div class="progress-section">
    <div class="progress-item">
        <div class="radial-progress">
            <div class="progress-circle" id="noise-progress">
                <span class="progress-text" id="noise-text">15%</span>
            </div>
        </div>
        <div class="progress-info">
            <h3>Background Noise</h3>
            <p>Environmental sounds detected</p>
        </div>
    </div>
    <div class="progress-item">
        <div class="radial-progress">
            <div class="progress-circle" id="human-progress">
                <span class="progress-text" id="human-text">25%</span>
            </div>
        </div>
        <div class="progress-info">
            <h3>Human - Normal</h3>
            <p>Human respiratory sounds</p>
        </div>
    </div>
    <div class="progress-item">
        <div class="radial-progress">
            <div class="progress-circle" id="animal-progress">
                <span class="progress-text" id="animal-text">85%</span>
            </div>
        </div>
        <div class="progress-info">
            <h3>Small Animal - Normal</h3>
            <p>Healthy animal breathing patterns</p>
        </div>
    </div>
    <div class="progress-item">
        <div class="radial-progress">
            <div class="progress-circle" id="wheeze-progress">
                <span class="progress-text" id="wheeze-text">8%</span>
            </div>
        </div>
        <div class="progress-info">
            <h3>Wheezing</h3>
            <p>Respiratory distress indicators</p>
        </div>
    </div>
</div>

<!-- Descriptions Section -->
<div class="descriptions-section">
    <div class="description-card">
        <h3>üîá Background Noise Analysis</h3>
        <p>Our AI filters out environmental sounds like traffic, wind, and room noise to focus on biological audio signatures. Low confidence indicates clean audio capture.</p>
    </div>
    <div class="description-card">
        <h3>üë§ Human Respiratory Patterns</h3>
        <p>Detects human breathing sounds that might interfere with animal analysis. Helps veterinarians distinguish between handler and patient sounds during examination.</p>
    </div>
    <div class="description-card">
        <h3>üêæ Small Animal Health Assessment</h3>
        <p>Analyzes normal breathing patterns in cats, dogs, and other small animals. High confidence suggests healthy respiratory function with clear airways.</p>
    </div>
    <div class="description-card">
        <h3>‚ö†Ô∏è Respiratory Distress Detection</h3>
        <p>Identifies wheezing, labored breathing, and other signs of respiratory distress. Early detection can help prevent serious complications.</p>
    </div>
</div>
</div>

<div class="recommendations">
    <h3>üéØ AI Recommendation</h3>
    <p id="ai-recommendation">Waiting for audio input...</p>
</div>
</main>

<!-- Footer -->
<footer class="footer">
<div class="footer-content">
<p>&copy; 2024 VetPulse. Powered by AI VetTech. All rights reserved.</p>
<div class="paw-animation">
<div class="paw">üêæ</div>
<div class="paw">üêæ</div>
<div class="paw">üêæ</div>
<div class="paw">üêæ</div>
</div>
</div>
</footer>

<!-- Modal -->
<div id="result-modal">
<div id="result-content">
    <button onclick="document.getElementById('result-modal').style.display='none'">√ó</button>
    <h2>The sound is <span id="modal-label"></span></h2>
    <p>Confidence: <span id="modal-score"></span>%</p>
</div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/speech-commands@0.4.0/dist/speech-commands.min.js"></script>
<script>
let recognizer;
let highestScore = 0;
let highestLabel = "";

const URL = "./my_model/"; // ÿ∂ÿπ ŸáŸÜÿß ŸÖÿ≥ÿßÿ± ŸÖÿ¨ŸÑÿØ ÿßŸÑŸÖŸàÿØŸäŸÑ

async function createModel() {
    const checkpointURL = URL + "model.json";
    const metadataURL = URL + "metadata.json";
    recognizer = speechCommands.create("BROWSER_FFT", undefined, checkpointURL, metadataURL);
    await recognizer.ensureModelLoaded();
    return recognizer;
}

async function startAudio() {
    await createModel();
    const labels = recognizer.wordLabels();
    // Reset live progress bars
    const progressElements = {
        "Background Noise": document.getElementById("noise-text"),
        "Human - Normal": document.getElementById("human-text"),
        "Small Animal - Normal": document.getElementById("animal-text"),
        "Wheezing": document.getElementById("wheeze-text")
    };

    recognizer.listen(result => {
        const scores = result.scores;
        let maxScore = -1;
        let maxLabel = "";
        for (let i = 0; i < labels.length; i++) {
            const percent = (scores[i]*100).toFixed(0);
            progressElements[labels[i]].innerText = percent + "%";
            if (scores[i] > maxScore) {
                maxScore = scores[i];
                maxLabel = labels[i];
            }
        }
        highestScore = (maxScore*100).toFixed(0);
        highestLabel = maxLabel;
        document.getElementById("ai-recommendation").innerText = `Highest detected: ${highestLabel} (${highestScore}%)`;
    }, {
        includeSpectrogram: true,
        probabilityThreshold: 0.01,
        invokeCallbackOnNoiseAndUnknown: true,
        overlapFactor: 0.5
    });

    // Show modal after 10 seconds
    setTimeout(() => {
        document.getElementById("modal-label").innerText = highestLabel;
        document.getElementById("modal-score").innerText = highestScore;
        document.getElementById("result-modal").style.display = "flex";
        recognizer.stopListening();
    }, 10000);
}
</script>
</body>
</html>
